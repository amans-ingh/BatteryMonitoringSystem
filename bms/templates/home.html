{% extends "layout.html" %}
{% block content %}
<div>
{% for batt in batts %}
    <div class="content-section bg-dark text-white" style="height: 200px;">
        <h5 class="text-primary">Name: {{batt.name}}</h5>
        <h6 class="text-primary">Health: {{batt.health}} %</h6>
        <h6 class="text-primary" style="position: absolute; bottom: 10px; left: 15px">Token: </h6>
        <div style="position: absolute; bottom: 10px; right: 342px; width: 305px;">
            <input type="password" class="form-control" id="{{batt.id}}" value="{{batt.token}}" readonly>
        </div>
        <a href="#" class="btn btn-danger"  style="position: absolute; bottom: 10px; right: 15px">Delete</a>
        <a href="#" class="btn btn-primary"  style="position: absolute; bottom: 10px; right: 100px">Open Panel</a>
        <a class="btn btn-success"  style="position: absolute; bottom: 10px; right: 220px" onclick="myFunction({{batt.id}})">Copy Token</a>
    </div>
{% endfor %}
</div>
{% endblock %}
{% block script %}
<script>
    function myFunction(x) {
  /* Get the text field */
  var copyText = document.getElementById(x);
  document.getElementById(x).type = 'text';

  /* Select the text field */
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  document.execCommand("copy");
}
</script>
{% endblock %}